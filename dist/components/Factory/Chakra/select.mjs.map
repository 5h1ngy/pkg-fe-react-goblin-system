{"version":3,"file":"select.mjs","sources":["../../../../src/components/Factory/Chakra/select.tsx"],"sourcesContent":["\r\n\r\nimport type { CollectionItem } from \"@chakra-ui/react\"\r\nimport { Select as ChakraSelect, Portal } from \"@chakra-ui/react\"\r\nimport { CloseButton } from \"./close-button\"\r\nimport { forwardRef } from \"react\"\r\n\r\ninterface SelectTriggerProps extends ChakraSelect.ControlProps {\r\n  clearable?: boolean\r\n}\r\n\r\nexport const SelectTrigger = forwardRef<HTMLButtonElement, SelectTriggerProps>(\r\n  function SelectTrigger(props, ref) {\r\n    const { children, clearable, ...rest } = props\r\n    return (\r\n      <ChakraSelect.Control {...rest}>\r\n        <ChakraSelect.Trigger ref={ref}>{children}</ChakraSelect.Trigger>\r\n        <ChakraSelect.IndicatorGroup>\r\n          {clearable && <SelectClearTrigger />}\r\n          <ChakraSelect.Indicator />\r\n        </ChakraSelect.IndicatorGroup>\r\n      </ChakraSelect.Control>\r\n    )\r\n  },\r\n)\r\n\r\nconst SelectClearTrigger = forwardRef<\r\n  HTMLButtonElement,\r\n  ChakraSelect.ClearTriggerProps\r\n>(function SelectClearTrigger(props, ref) {\r\n  return (\r\n    <ChakraSelect.ClearTrigger asChild {...props} ref={ref}>\r\n      <CloseButton\r\n        size=\"xs\"\r\n        variant=\"plain\"\r\n        focusVisibleRing=\"inside\"\r\n        focusRingWidth=\"2px\"\r\n        pointerEvents=\"auto\"\r\n      />\r\n    </ChakraSelect.ClearTrigger>\r\n  )\r\n})\r\n\r\ninterface SelectContentProps extends ChakraSelect.ContentProps {\r\n  portalled?: boolean\r\n  portalRef?: React.RefObject<HTMLElement>\r\n}\r\n\r\nexport const SelectContent = forwardRef<HTMLDivElement, SelectContentProps>(\r\n  function SelectContent(props, ref) {\r\n    const { portalled = true, portalRef, ...rest } = props\r\n    return (\r\n      <Portal disabled={!portalled} container={portalRef}>\r\n        <ChakraSelect.Positioner>\r\n          <ChakraSelect.Content {...rest} ref={ref} />\r\n        </ChakraSelect.Positioner>\r\n      </Portal>\r\n    )\r\n  },\r\n)\r\n\r\nexport const SelectItem = forwardRef<HTMLDivElement, ChakraSelect.ItemProps>(\r\n  function SelectItem(props, ref) {\r\n    const { item, children, ...rest } = props\r\n    return (\r\n      <ChakraSelect.Item key={item.value} item={item} {...rest} ref={ref}>\r\n        {children}\r\n        <ChakraSelect.ItemIndicator />\r\n      </ChakraSelect.Item>\r\n    )\r\n  },\r\n)\r\n\r\ninterface SelectValueTextProps\r\n  extends Omit<ChakraSelect.ValueTextProps, \"children\"> {\r\n  children?(items: CollectionItem[]): React.ReactNode\r\n}\r\n\r\nexport const SelectValueText = forwardRef<\r\n  HTMLSpanElement,\r\n  SelectValueTextProps\r\n>(function SelectValueText(props, ref) {\r\n  const { children, ...rest } = props\r\n  return (\r\n    <ChakraSelect.ValueText {...rest} ref={ref}>\r\n      <ChakraSelect.Context>\r\n        {(select) => {\r\n          const items = select.selectedItems\r\n          if (items.length === 0) return props.placeholder\r\n          if (children) return children(items)\r\n          if (items.length === 1)\r\n            return select.collection.stringifyItem(items[0])\r\n          return `${items.length} selected`\r\n        }}\r\n      </ChakraSelect.Context>\r\n    </ChakraSelect.ValueText>\r\n  )\r\n})\r\n\r\nexport const SelectRoot = forwardRef<HTMLDivElement, ChakraSelect.RootProps>(\r\n  function SelectRoot(props, ref) {\r\n    return (\r\n      <ChakraSelect.Root\r\n        {...props}\r\n        ref={ref}\r\n        positioning={{ sameWidth: true, ...props.positioning }}\r\n      >\r\n        {props.asChild ? (\r\n          props.children\r\n        ) : (\r\n          <>\r\n            <ChakraSelect.HiddenSelect />\r\n            {props.children}\r\n          </>\r\n        )}\r\n      </ChakraSelect.Root>\r\n    )\r\n  },\r\n) as ChakraSelect.RootComponent\r\n\r\ninterface SelectItemGroupProps extends ChakraSelect.ItemGroupProps {\r\n  label: React.ReactNode\r\n}\r\n\r\nexport const SelectItemGroup = forwardRef<HTMLDivElement, SelectItemGroupProps>(\r\n  function SelectItemGroup(props, ref) {\r\n    const { children, label, ...rest } = props\r\n    return (\r\n      <ChakraSelect.ItemGroup {...rest} ref={ref}>\r\n        <ChakraSelect.ItemGroupLabel>{label}</ChakraSelect.ItemGroupLabel>\r\n        {children}\r\n      </ChakraSelect.ItemGroup>\r\n    )\r\n  },\r\n)\r\n\r\nexport const SelectLabel = ChakraSelect.Label\r\nexport const SelectItemText = ChakraSelect.ItemText\r\n"],"names":["SelectTrigger","jsxs","ChakraSelect","jsx","SelectClearTrigger","SelectContent","SelectItem","SelectValueText","SelectRoot","Fragment","SelectItemGroup"],"mappings":"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"}