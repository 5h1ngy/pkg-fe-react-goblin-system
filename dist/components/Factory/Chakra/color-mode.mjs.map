{"version":3,"file":"color-mode.mjs","sources":["../../../../src/components/Factory/Chakra/color-mode.tsx"],"sourcesContent":[";\r\n\r\nimport type { ConditionalValue, IconButtonProps } from \"@chakra-ui/react\";\r\nimport { ClientOnly, IconButton, Skeleton } from \"@chakra-ui/react\";\r\nimport { ThemeProvider, useTheme } from \"next-themes\";\r\nimport type { ThemeProviderProps } from \"next-themes\";\r\nimport { forwardRef } from \"react\";\r\nimport { HiSun, HiMoon } from \"react-icons/hi2\";\r\nimport { LuMoon, LuSun } from \"react-icons/lu\";\r\nimport { Tabs } from \"@chakra-ui/react\"\r\n\r\n// Interfaccia che estende le proprietà di ThemeProvider\r\nexport interface ColorModeProviderProps extends ThemeProviderProps { }\r\n\r\n// Componente per fornire il contesto del tema a tutta l'applicazione\r\nexport function ColorModeProvider(props: ColorModeProviderProps) {\r\n  return <ThemeProvider attribute=\"class\" disableTransitionOnChange {...props} />;\r\n}\r\n\r\n// Hook personalizzato per ottenere e gestire la modalità colore (chiaro/scuro)\r\nexport function useColorMode() {\r\n  const { resolvedTheme, setTheme } = useTheme();\r\n\r\n  // Funzione per alternare la modalità colore\r\n  const toggleColorMode = () => {\r\n    setTheme(resolvedTheme === \"light\" ? \"dark\" : \"light\");\r\n  };\r\n\r\n  return {\r\n    colorMode: resolvedTheme,\r\n    setColorMode: setTheme,\r\n    toggleColorMode,\r\n  };\r\n}\r\n\r\n// Hook per ottenere un valore diverso in base alla modalità colore\r\nexport function useColorModeValue<T>(light: T, dark: T): T {\r\n  const { colorMode } = useColorMode();\r\n  return colorMode === \"light\" ? light : dark;\r\n}\r\n\r\n// Componente icona che mostra un'icona diversa in base alla modalità colore\r\nexport function ColorModeIcon() {\r\n  const { colorMode } = useColorMode();\r\n  return colorMode === \"light\" ? <LuSun /> : <LuMoon />;\r\n}\r\n\r\n// Proprietà per il bottone di cambio modalità colore esteso\r\ninterface ColorModeButtonProps extends Omit<IconButtonProps, \"aria-label\"> { }\r\n\r\n\r\ninterface ColorModeButtonExtendedProps {\r\n  variant: ConditionalValue<\"outline\" | \"line\" | \"subtle\" | \"plain\" | \"enclosed\" | undefined>;\r\n  size: ConditionalValue<'sm' | 'md' | 'lg'>;\r\n}\r\n\r\n// Componente esteso di bottone per il cambio della modalità colore con controllo segmentato\r\nexport const ColorModeButtonExtended = function ColorModeButtonExtended(props: ColorModeButtonExtendedProps) {\r\n  const { toggleColorMode, colorMode } = useColorMode();\r\n  const { variant, size } = props;\r\n\r\n  return (\r\n    // Usa ClientOnly per assicurarsi che il componente venga renderizzato solo sul client\r\n    <ClientOnly fallback={<Skeleton boxSize=\"8\" />}>\r\n\r\n      <Tabs.Root key={crypto.randomUUID()} defaultValue={colorMode} variant={variant} size={size} onValueChange={toggleColorMode}\r\n      // 'gray' | 'red' | 'orange' | 'yellow' | 'green' | 'teal' | 'blue' | 'cyan' | 'purple' | 'pink' | 'accent'\r\n      // colorPalette={'red'}\r\n      >\r\n        <Tabs.List\r\n          backgroundColor={\"gray.100\"} _dark={{ backgroundColor: \"gray.950\", }}\r\n        >\r\n          <Tabs.Trigger value=\"light\">\r\n            <HiSun />\r\n          </Tabs.Trigger>\r\n          <Tabs.Trigger value=\"dark\">\r\n            <HiMoon />\r\n          </Tabs.Trigger>\r\n        </Tabs.List>\r\n      </ Tabs.Root>\r\n    </ClientOnly>\r\n  );\r\n};\r\n\r\n// Bottone per il cambio di modalità colore con IconButton\r\nexport const ColorModeButton = forwardRef<HTMLButtonElement, ColorModeButtonProps>(function ColorModeButton(props, ref) {\r\n  const { toggleColorMode } = useColorMode();\r\n\r\n  return (\r\n    // Usa ClientOnly per garantire che il bottone venga renderizzato solo sul client\r\n    <ClientOnly fallback={<Skeleton boxSize=\"8\" />}>\r\n      <IconButton\r\n        onClick={toggleColorMode}\r\n        variant=\"ghost\"\r\n        aria-label=\"Toggle color mode\"\r\n        size=\"sm\"\r\n        ref={ref}\r\n        {...props}\r\n        // Stile personalizzato per l'icona del bottone\r\n        css={{ _icon: { width: \"5\", height: \"5\" } }}\r\n      >\r\n        <ColorModeIcon />\r\n      </IconButton>\r\n    </ClientOnly>\r\n  );\r\n});\r\n"],"names":["ColorModeProvider","props","ThemeProvider","useColorMode","resolvedTheme","setTheme","useTheme","useColorModeValue","light","dark","colorMode","ColorModeIcon","jsx","LuSun","LuMoon","ColorModeButtonExtended","toggleColorMode","variant","size","ClientOnly","Skeleton","Tabs","jsxs","HiSun","HiMoon","ColorModeButton","forwardRef","ref","IconButton"],"mappings":";;;;;;AAeO,SAASA,EAAkBC,GAA+B;AAC/D,+BAAQC,GAAc,EAAA,WAAU,SAAQ,2BAAyB,IAAE,GAAGD,GAAO;AAC/E;AAGO,SAASE,IAAe;AAC7B,QAAM,EAAE,eAAAC,GAAe,UAAAC,EAAS,IAAIC,EAAS;AAOtC,SAAA;AAAA,IACL,WAAWF;AAAA,IACX,cAAcC;AAAA,IACd,iBAPsB,MAAM;AACnB,MAAAA,EAAAD,MAAkB,UAAU,SAAS,OAAO;AAAA,IACvD;AAAA,EAMA;AACF;AAGgB,SAAAG,EAAqBC,GAAUC,GAAY;AACnD,QAAA,EAAE,WAAAC,EAAU,IAAIP,EAAa;AAC5B,SAAAO,MAAc,UAAUF,IAAQC;AACzC;AAGO,SAASE,IAAgB;AACxB,QAAA,EAAE,WAAAD,EAAU,IAAIP,EAAa;AACnC,SAAOO,MAAc,UAAUE,gBAAAA,MAACC,GAAM,CAAA,CAAA,0BAAMC,GAAO,EAAA;AACrD;AAYa,MAAAC,IAA0B,SAAiCd,GAAqC;AAC3G,QAAM,EAAE,iBAAAe,GAAiB,WAAAN,EAAU,IAAIP,EAAa,GAC9C,EAAE,SAAAc,GAAS,MAAAC,EAAA,IAASjB;AAE1B;AAAA;AAAA,0BAEGkB,GAAW,EAAA,gCAAWC,GAAS,EAAA,SAAQ,KAAI,GAE1C,UAAAR,gBAAAA,EAAA;AAAA,MAACS,EAAK;AAAA,MAAL;AAAA,QAAoC,cAAcX;AAAA,QAAW,SAAAO;AAAA,QAAkB,MAAAC;AAAA,QAAY,eAAeF;AAAA,QAIzG,UAAAM,gBAAAA,EAAA;AAAA,UAACD,EAAK;AAAA,UAAL;AAAA,YACC,iBAAiB;AAAA,YAAY,OAAO,EAAE,iBAAiB,WAAY;AAAA,YAEnE,UAAA;AAAA,cAAAT,gBAAAA,EAAAA,IAACS,EAAK,SAAL,EAAa,OAAM,SAClB,UAAAT,gBAAAA,MAACW,IAAM,CAAA,GACT;AAAA,cACAX,gBAAAA,MAACS,EAAK,SAAL,EAAa,OAAM,QAClB,UAAAT,gBAAAA,EAAA,IAACY,KAAO,EACV,CAAA;AAAA,YAAA;AAAA,UAAA;AAAA,QAAA;AAAA,MACF;AAAA,MAbc,OAAO,WAAW;AAAA,IAAA,EAepC,CAAA;AAAA;AAEJ,GAGaC,IAAkBC,EAAoD,SAAyBzB,GAAO0B,GAAK;AAChH,QAAA,EAAE,iBAAAX,EAAgB,IAAIb,EAAa;AAEzC;AAAA;AAAA,0BAEGgB,GAAW,EAAA,gCAAWC,GAAS,EAAA,SAAQ,KAAI,GAC1C,UAAAR,gBAAAA,EAAA;AAAA,MAACgB;AAAA,MAAA;AAAA,QACC,SAASZ;AAAA,QACT,SAAQ;AAAA,QACR,cAAW;AAAA,QACX,MAAK;AAAA,QACL,KAAAW;AAAA,QACC,GAAG1B;AAAA,QAEJ,KAAK,EAAE,OAAO,EAAE,OAAO,KAAK,QAAQ,MAAM;AAAA,QAE1C,gCAACU,GAAc,CAAA,CAAA;AAAA,MAAA;AAAA,IAAA,EAEnB,CAAA;AAAA;AAEJ,CAAC;"}