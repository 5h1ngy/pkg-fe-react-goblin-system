import{jsxs as e,jsx as t,Fragment as r}from"react/jsx-runtime";import{useForm as n,Controller as o,FormProvider as i}from"react-hook-form";import{Field as a,Checkbox as l,VStack as s,Input as c,Flex as d,Button as u,AbsoluteCenter as h,Spinner as m,Span as p,HStack as g,Table as f,createRecipeContext as b,createContext as w,Pagination as v,usePaginationContext as y,IconButton as C,Text as k,Portal as S,ActionBar as x,Kbd as T,Stack as I,Card as j,Image as E,Heading as L,EmptyState as A,Skeleton as _,Circle as D,Avatar as R,Group as z,Icon as N,Spacer as U,Popover as M,Progress as P,createToaster as O,Toaster as $,Toast as F,ClientOnly as W,Tabs as B,Drawer as V,chakra as H}from"@chakra-ui/react";import{zodResolver as G}from"@hookform/resolvers/zod";import{ZodOptional as X,ZodNullable as Y,ZodDefault as K,ZodArray as Z,ZodEffects as q,z as J,ZodEnum as Q}from"zod";import{Select as ee}from"chakra-react-select";import{forwardRef as te,createContext as re,useState as ne,useContext as oe,useMemo as ie,useEffect as ae,useRef as le,lazy as se,Suspense as ce}from"react";import{HiMiniEllipsisHorizontal as de,HiChevronLeft as ue,HiChevronRight as he,HiSun as me,HiMoon as pe}from"react-icons/hi2";import{LuX as ge,LuSun as fe,LuMoon as be}from"react-icons/lu";import{CiFolderOff as we,CiGlobe as ve}from"react-icons/ci";import ye from"react-markdown";import Ce from"remark-gfm";import ke from"rehype-highlight";import{BiError as Se}from"react-icons/bi";import{HiOutlineInformationCircle as xe}from"react-icons/hi";import{TbLoader3 as Te}from"react-icons/tb";import{useLocation as Ie,useNavigate as je,NavLink as Ee}from"react-router-dom";import Le from"gsap";import{ScrollToPlugin as Ae}from"gsap/ScrollToPlugin";import{useTheme as _e}from"next-themes";import{useSelector as De}from"react-redux";import{createAsyncThunk as Re,createSlice as ze}from"@reduxjs/toolkit";import Ne from"axios";const Ue=e=>{let t=-1/0;const r=e.shape;for(const e in r){const n=r[e]?.meta;void 0!==n?.step&&n?.step>t&&(t=n.step)}return t===-1/0?0:t};const Me=te((function(r,n){const{label:o,children:i,helperText:l,errorText:s,optionalText:c,...d}=r;return e(a.Root,{ref:n,...d,children:[o&&e(a.Label,{children:[o,t(a.RequiredIndicator,{fallback:c})]}),i,l&&t(a.HelperText,{children:l}),s&&t(a.ErrorText,{children:s})]})})),Pe=te((function(r,n){const{icon:o,children:i,inputProps:a,rootRef:s,...c}=r;return e(l.Root,{ref:s,...c,children:[t(l.HiddenInput,{ref:n,...a}),t(l.Control,{children:o||t(l.Indicator,{})}),null!=i&&t(l.Label,{children:i})]})}));function Oe({methods:e,name:n,meta:i,fieldSchema:a}){const l=function(e){for(;;)if(e instanceof X||e instanceof Y)e=e.unwrap();else if(e instanceof K)e=e.removeDefault();else if(e instanceof Z)e=e.element;else{if(!(e instanceof q))break;e=e.innerType()}return e}(a);return t(o,{name:n,control:e.control,render:({field:o})=>function(o){if(l instanceof J.ZodString||l instanceof J.ZodDate)return t(s,{...i?.style?{...i?.style}:{width:"100%"},alignItems:"left",children:t(Me,{label:i?.label&&i.label,invalid:void 0!==e.formState.errors[n],errorText:e.formState.errors[n]?.message,children:t(c,{disabled:o.disabled,type:(a=n,l instanceof J.ZodString&&a.toLowerCase().includes("password")?"password":l instanceof J.ZodString&&a.toLowerCase().includes("email")?"email":l instanceof J.ZodDate?"date":"text"),ref:o.ref,id:n,name:n,autoComplete:i?.autocomplete??"",onBlur:o.onBlur,onChange:o.onChange,value:o.value??""})})});if(l instanceof Q){const e=l.options.map(((e,t)=>({label:i?.labels?.[t]??"",value:e??null})));return t(Me,{label:i?.label&&i.label,children:t(ee,{...o,options:e,value:e.find((e=>e.value===o.value))||null,onChange:e=>o.onChange(e?e.value:null),placeholder:i?.label?`Select ${i?.label}`:void 0,defaultValue:null})})}return l instanceof J.ZodBoolean?t(Me,{invalid:void 0!==e.formState.errors[n],errorText:e.formState.errors[n]?.message,children:t(Pe,{...o,variant:"solid",disabled:o.disabled,id:n,name:n,checked:o.value??!1,onCheckedChange:({checked:e})=>o.onChange(e),children:i?.label})}):t(r,{});var a}(o)},crypto.randomUUID())}function $e(e,t){const r=e;return t&&(r.meta=t||{}),r}function Fe({width:o,schema:a,defaultValues:l,step:s=0,onNext:c,onBack:u,render:h}){const{fields:m,methods:p}=function(e,t){const r=n({resolver:G(e),defaultValues:t});return{fields:e.innerType().shape?Object.entries(e.innerType().shape).reduce(((e,[t,r])=>{const n=r,o=n.meta?.step||0,i=n.meta?.row?.toString()||"__NO_ROW__",a=[t,r];if(e[o]||(e[o]={}),e[o][`${i}`]){const t=e[o][`${i}`];e[o][`${i}`]=[...t,a]}else e[o][`${i}`]=[a];return e}),[]):[],methods:r}}(a,l),g=0!==m.length?Object.entries(m[s]??{}).flatMap((([e,t])=>t.map((([e])=>e)))):[],f=0!==m.length?Object.entries(m[s]??{}).map((([e,r])=>"__NO_ROW__"===e?r.map((([e,r])=>t(Oe,{methods:p,name:e,meta:r.meta??void 0,fieldSchema:r},crypto.randomUUID()))):t(d,{width:"100%",direction:"row",gap:"0.8rem",justifyContent:"start",children:r.map((([e,r])=>t(Oe,{methods:p,name:e,meta:r.meta??void 0,fieldSchema:r},crypto.randomUUID())))},crypto.randomUUID()))):[];return t(d,{flexDirection:"column",width:o,children:t(i,{...p,children:h?h(f,p.handleSubmit,(async function(){if(await p.trigger(g)){const e=Ue(a.innerType()),t=s+1;c(t,t<=e&&t===e)}}),(async function(){Ue(a.innerType());const e=s-1;u(e,!1)})):e(r,{children:[f,t("button",{type:"submit",children:"Invia"})]})})})}const We=te((function(n,o){const{loading:i,disabled:a,loadingText:l,children:s,...c}=n;return t(u,{disabled:i||a,ref:o,...c,children:i&&!l?e(r,{children:[t(h,{display:"inline-flex",children:t(m,{size:"inherit",color:"inherit"})}),t(p,{opacity:0,children:s})]}):i&&l?e(r,{children:[t(m,{size:"inherit",color:"inherit"}),l]}):s})}));function Be(e){if(!e)return"";let t=e.replace(/([A-Z])/g," $1");return t=t.trim(),t.charAt(0).toUpperCase()+t.slice(1)}const Ve=re(void 0),He=()=>{const e=oe(Ve);if(!e)throw new Error("useTableContext must be used within LiquidTable");return e},Ge=()=>{const{columns:r,rows:n,select:o}=He(),i=o.selection.length>0&&o.selection.length<n.length;return t(f.Header,{children:e(f.Row,{bg:"bg.subtle",children:[t(f.ColumnHeader,{w:"6",children:t(Pe,{top:"1","aria-label":"Select all rows",checked:i?"indeterminate":o.selection.length>0,onCheckedChange:e=>e.checked?o.setSelection(n.map((e=>e.id))):o.setSelection([])})}),r.filter((e=>e.visible)).map((e=>t(f.ColumnHeader,{textAlign:e.isNumeric?"end":"start",children:e.label},crypto.randomUUID())))]})})},Xe=()=>{const{columns:r,rows:n,select:o}=He();return t(f.Body,{children:n.map((n=>e(f.Row,{children:[t(f.Cell,{children:t(Pe,{top:"1","aria-label":"Select row",checked:o.selection.includes(n.id),onCheckedChange:e=>o.setSelection((t=>e.checked?[...t,n.id]:t.filter((e=>e!==n.id))))})}),r.filter((e=>e.visible)).map((e=>t(f.Cell,{textAlign:e.isNumeric?"end":"start",children:null==n.data[e.field]?"/":n.data[e.field]},crypto.randomUUID())))]},crypto.randomUUID())))})},{withContext:Ye}=b({key:"button"}),Ke=Ye("a"),[Ze,qe]=w({name:"RootPropsProvider"}),Je={outline:{default:"ghost",ellipsis:"plain",current:"outline"},solid:{default:"outline",ellipsis:"outline",current:"solid"},subtle:{default:"ghost",ellipsis:"plain",current:"subtle"}},Qe=te((function(e,r){const{size:n="sm",variant:o="outline",getHref:i,...a}=e;return t(Ze,{value:{size:n,variantMap:Je[o],getHref:i},children:t(v.Root,{ref:r,type:i?"link":"button",...a})})})),et=te((function(e,r){const{size:n,variantMap:o}=qe();return t(v.Ellipsis,{ref:r,...e,asChild:!0,children:t(u,{as:"span",variant:o.ellipsis,size:n,children:t(de,{})})})})),tt=te((function(e,r){const{page:n}=y(),{size:o,variantMap:i,getHref:a}=qe(),l=n===e.value?i.current:i.default;return a?t(Ke,{href:a(e.value),variant:l,size:o,children:e.value}):t(v.Item,{ref:r,...e,asChild:!0,children:t(u,{variant:l,size:o,children:e.value})})})),rt=te((function(e,r){const{size:n,variantMap:o,getHref:i}=qe(),{previousPage:a}=y();return i?t(Ke,{href:null!=a?i(a):void 0,variant:o.default,size:n,children:t(ue,{})}):t(v.PrevTrigger,{ref:r,asChild:!0,...e,children:t(C,{variant:o.default,size:n,children:t(ue,{})})})})),nt=te((function(e,r){const{size:n,variantMap:o,getHref:i}=qe(),{nextPage:a}=y();return i?t(Ke,{href:null!=a?i(a):void 0,variant:o.default,size:n,children:t(he,{})}):t(v.NextTrigger,{ref:r,asChild:!0,...e,children:t(C,{variant:o.default,size:n,children:t(he,{})})})})),ot=e=>t(v.Context,{children:({pages:r})=>r.map(((r,n)=>"ellipsis"===r.type?t(et,{index:n,...e},n):t(tt,{type:"page",value:r.value,...e},n)))});te((function(e,r){const{format:n="compact",...o}=e,{page:i,pages:a,pageRange:l,count:s}=y(),c=ie((()=>"short"===n?`${i} / ${a.length}`:"compact"===n?`${i} of ${a.length}`:`${l.start+1} - ${l.end} of ${s}`),[n,i,a.length,l,s]);return t(k,{fontWeight:"medium",ref:r,...o,children:c})}));const it=()=>{const{pagination:r}=He();return r&&t(Qe,{padding:"0.3rem",count:r.totalPages,width:"fit-content",pageSize:r.size,page:r.offset,borderRadius:"10px",backgroundColor:"gray.100",_dark:{backgroundColor:"gray.950"},children:e(g,{wrap:"wrap",children:[t(rt,{}),t(ot,{}),t(nt,{})]})})},at=te((function(e,r){return t(C,{variant:"ghost","aria-label":"Close",ref:r,...e,children:e.children??t(ge,{})})})),lt=te((function(e,r){const{children:n,portalled:o=!0,portalRef:i,...a}=e;return t(S,{disabled:!o,container:i,children:t(x.Positioner,{children:t(x.Content,{ref:r,...a,asChild:!1,children:n})})})}));te((function(e,r){return t(x.CloseTrigger,{...e,asChild:!0,ref:r,children:t(at,{size:"sm"})})}));const st=x.Root,ct=x.SelectionTrigger,dt=x.Separator,ut=()=>{const{select:r}=He(),n=r.selection.length>0;return ae((()=>{const e=document.getElementsByClassName("chakra-action-bar__positioner");for(let t=0;t<e.length;t++)e[t].style.zIndex="9999"}),[]),t(st,{open:n,children:e(lt,{children:[e(ct,{children:[r.selection.length," selected"]}),t(dt,{}),e(We,{variant:"outline",size:"sm",children:["Delete ",t(T,{children:"⌫"})]}),e(We,{variant:"outline",size:"sm",children:["Share ",t(T,{children:"T"})]})]})})};var ht,mt=(ht=()=>e(I,{width:"full",gap:"3",alignItems:"flex-end",children:[t(it,{}),t(f.ScrollArea,{borderWidth:"1px",rounded:"md",width:"100%",height:"100%",children:e(f.Root,{size:"lg",stickyHeader:!0,interactive:!0,children:[t(Ge,{}),t(Xe,{})]})}),t(ut,{})]}),e=>{const{columns:r,rows:n}=function(e,t=[]){if(!e||0===e.length)return{columns:[],rows:[]};const r=new Set;e.forEach((e=>{Object.keys(e).forEach((e=>r.add(e)))}));const n=Array.from(r).map((e=>{const r=t.includes(e);return{field:e,label:Be(e),visible:!r,isNumeric:!1}})),o=e.map(((e,t)=>({id:e.id??String(t),data:e})));return{columns:n,rows:o}}(e.items,e.hiddenFields),[o,i]=ne([]);return t(Ve.Provider,{value:{columns:r,rows:n,pagination:e.pagination,select:{selection:o,setSelection:i}},children:t(ht,{...e})})});const pt=J.object({id:$e(J.string().trim(),{label:"Email/Username",autocomplete:"username"}),password:$e(J.string().min(6,{message:"La password deve contenere almeno 6 caratteri"}),{label:"Password",autocomplete:"password"}),stay_logged:$e(J.boolean().default(!1),{label:"Stay logged"})}).superRefine(((e,t)=>{}));pt.innerType();const gt=J.object({first_name:$e(J.string().trim().min(2,{message:"Il nome deve contenere almeno 2 caratteri"}).max(50,{message:"Il nome non può superare i 50 caratteri"}),{label:"Nome",autocomplete:"first-name",row:"row-1",step:0}),last_name:$e(J.string().trim().min(2,{message:"Il cognome deve contenere almeno 2 caratteri"}).max(50,{message:"Il cognome non può superare i 50 caratteri"}),{label:"Cognome",autocomplete:"last-name",row:"row-1",step:0}),bday:$e(J.coerce.date({required_error:"La data di nascita è obbligatoria",invalid_type_error:"Formato data non valido"}).max(new Date,{message:"La data non può essere nel futuro"}).transform((e=>e.getTime())),{label:"Data di Nascita",autocomplete:"bday",row:"row-2",step:0}),username:$e(J.string().trim(),{label:"Nickname",autocomplete:"username",step:1,style:{width:{sm:"20rem"}}}),gender:$e(J.enum(["male","female"]).nullable().default(null),{label:"Gender",labels:["Male","Female"],autocomplete:"gender",step:1,style:{width:{sm:"20rem"}}}),email:$e(J.string().trim().toLowerCase().email({message:"Inserisci un’email valida"}),{label:"Email",autocomplete:"email",row:"row-3",step:2}),confirm_email:$e(J.string().trim().toLowerCase().email({message:"Inserisci un’email valida"}),{label:"Ripeti Email",autocomplete:"confirm-email",row:"row-3",step:2}),password:$e(J.string().trim().min(6,{message:"La password deve contenere almeno 6 caratteri"}).max(100,{message:"La password non può superare i 100 caratteri"}).regex(/[A-Z]/,{message:"La password deve contenere almeno una lettera maiuscola"}).regex(/\d/,{message:"La password deve contenere almeno un numero"}),{label:"Password",autocomplete:"password",row:"row-4",step:2}),confirm_password:$e(J.string().trim().min(6,{message:"La password deve contenere almeno 6 caratteri"}).max(100,{message:"La password non può superare i 100 caratteri"}),{label:"Ripeti Password",autocomplete:"confirm-password",row:"row-4",step:2})}).superRefine(((e,t)=>{e.email!==e.confirm_email&&t.addIssue({code:J.ZodIssueCode.custom,message:"Le email non coincidono.",path:["confirm_email"]}),e.password!==e.confirm_password&&t.addIssue({code:J.ZodIssueCode.custom,message:"Le password non coincidono.",path:["confirm_password"]})}));gt.innerType();const ft=te((function(r,n){const{title:o,description:i,icon:a,children:l,...c}=r;return t(A.Root,{ref:n,...c,children:e(A.Content,{children:[a&&t(A.Indicator,{children:a}),i?e(s,{textAlign:"center",children:[t(A.Title,{children:o}),t(A.Description,{children:i})]}):t(A.Title,{children:o}),l]})})})),bt=e=>{const{size:r,...n}=e;return t(D,{size:r,asChild:!0,children:t(_,{...n})})},wt=te((function(e,r){const{noOfLines:n=3,gap:o,...i}=e;return t(I,{gap:o,width:"full",ref:r,children:Array.from({length:n}).map(((r,n)=>t(_,{height:"4",...e,_last:{maxW:"80%"},...i},n)))})})),vt=_,yt=te((function(r,n){const{name:o,src:i,srcSet:a,loading:l,icon:s,fallback:c,children:d,...u}=r;return e(R.Root,{ref:n,...u,children:[t(Ct,{name:o,icon:s,children:c}),t(R.Image,{src:i,srcSet:a,loading:l}),d]})})),Ct=te((function(n,o){const{name:i,icon:a,children:l,...s}=n;return e(R.Fallback,{ref:o,...s,children:[l,null!=i&&null==l&&t(r,{children:kt(i)}),null==i&&null==l&&t(R.Icon,{asChild:!!a,children:a})]})}));function kt(e){const t=e.trim().split(" "),r=null!=t[0]?t[0]:"",n=t.length>1?t[t.length-1]:"";return r&&n?`${r.charAt(0)}${n.charAt(0)}`:r.charAt(0)}var St;te((function(e,r){const{size:n,variant:o,borderless:i,...a}=e;return t(R.PropsProvider,{value:{size:n,variant:o,borderless:i},children:t(z,{gap:"0",spaceX:"-3",ref:r,...a})})})),function(e){e[e.IDLE=0]="IDLE",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILED=3]="FAILED"}(St||(St={}));function xt(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}xt("pre code.hljs{display:block;overflow-x:auto;padding:1em}code.hljs{padding:3px 5px}\n/*!\n  Theme: GitHub\n  Description: Light theme as seen on github.com\n  Author: github.com\n  Maintainer: @Hirse\n  Updated: 2021-05-15\n\n  Outdated base version: https://github.com/primer/github-syntax-light\n  Current colors taken from GitHub's CSS\n*/.hljs{background:#fff;color:#24292e}.hljs-doctag,.hljs-keyword,.hljs-meta .hljs-keyword,.hljs-template-tag,.hljs-template-variable,.hljs-type,.hljs-variable.language_{color:#d73a49}.hljs-title,.hljs-title.class_,.hljs-title.class_.inherited__,.hljs-title.function_{color:#6f42c1}.hljs-attr,.hljs-attribute,.hljs-literal,.hljs-meta,.hljs-number,.hljs-operator,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-id,.hljs-variable{color:#005cc5}.hljs-meta .hljs-string,.hljs-regexp,.hljs-string{color:#032f62}.hljs-built_in,.hljs-symbol{color:#e36209}.hljs-code,.hljs-comment,.hljs-formula{color:#6a737d}.hljs-name,.hljs-quote,.hljs-selector-pseudo,.hljs-selector-tag{color:#22863a}.hljs-subst{color:#24292e}.hljs-section{color:#005cc5;font-weight:700}.hljs-bullet{color:#735c0f}.hljs-emphasis{color:#24292e;font-style:italic}.hljs-strong{color:#24292e;font-weight:700}.hljs-addition{background-color:#f0fff4;color:#22863a}.hljs-deletion{background-color:#ffeef0;color:#b31d28}");xt(".markdown-container p{line-height:1.6;margin:1em 0}.markdown-container ol,.markdown-container ul{margin:1em 0;padding-left:1.5em}.markdown-container h1,.markdown-container h2,.markdown-container h3{margin:1.5em 0 1em}");var Tt={DynamicForm:Fe,LiquidSearchForm:function({schema:r}){return t(Fe,{schema:r,width:"100%",render:r=>e(s,{gap:"1rem",padding:"1.5rem",borderRadius:"10px",backgroundColor:"gray.100",_dark:{backgroundColor:"gray.950"},children:[t(g,{gap:"4",width:"100%",children:r}),t(s,{gap:"4",width:"100%",alignItems:"flex-end",children:t(We,{variant:"outline",type:"submit",colorPalette:"teal",children:"Crea Account"})})]})})},LiquidTable:mt,LoginForm:({header:n,submit:o,children:i,root:a})=>t(j.Root,{borderRadius:"10px",...a,children:e(g,{gap:"1rem",padding:"2rem",justifyContent:"center",children:[t(E,{borderRadius:"10px",display:{base:"none",lg:"block"},objectFit:"cover",height:"15rem",src:`${import.meta.env.VITE_BASENAME}/assets/background_card_login.png`,alt:""}),e(s,{children:[e(s,{children:[t(L,{textStyle:"4xl",children:"Login"}),n]}),t(Fe,{schema:pt,render:(n,a)=>e(r,{children:[t(j.Body,{children:t(I,{gap:"4",width:{md:"fit-content"},children:n})}),t(j.Footer,{justifyContent:"center",paddingY:"1rem",children:t(We,{onClick:a(o),variant:"solid",width:"100%",children:"Accedi"})}),i]})})]})]})}),RegisterForm:({rootStyle:n,children:o,submit:i})=>{const[a,l]=ne(0),[c,d]=ne(!1);return t(j.Root,{flexDirection:"row",borderRadius:"10px",...n,children:e(g,{gap:"1rem",padding:"2rem",justifyContent:"center",children:[t(E,{borderRadius:"10px",display:{base:"none",lg:"block"},objectFit:"cover",height:"15rem",src:`${import.meta.env.VITE_BASENAME}/assets/background_card_register.png`,alt:""}),e(s,{children:[e(s,{children:[t(L,{textStyle:"4xl",children:"Registrazione"}),o]}),t(Fe,{schema:gt,step:a,onNext:async function(e,t){l(e),d(t)},onBack:async function(e,t){l(e),d(t)},render:(n,o,l,s)=>e(r,{children:[t(j.Body,{children:t(I,{gap:"4",width:{md:"fit-content"},children:n})}),e(j.Footer,{justifyContent:"flex-end",paddingY:"1rem",flexWrap:"wrap",children:[0!==a&&t(We,{onClick:()=>s(),variant:"outline",colorPalette:"cyan",width:"40%",children:"Indietro"}),t(We,c?{onClick:o(i),variant:"solid",colorPalette:"cyan",width:"40%",children:"Crea Account"}:{onClick:()=>l(),variant:"subtle",colorPalette:"cyan",width:"40%",children:"Avanti"})]})]})})]})]})})},SectionCard:({status:n,isEmpty:o=!0,header:i,subHeader:a,body:l,empty:c})=>e(s,{gapY:"1rem",children:[i&&e(s,{gapY:"1rem",children:[n===St.LOADING&&e(r,{children:[(i?.avatar||a)&&e(g,{gapY:"2rem",children:[i?.avatar&&t(bt,{size:"20"}),a&&t(wt,{noOfLines:2,gap:"4",width:"18rem"})]}),t(s,{gapY:"2rem",children:t(vt,{width:"25rem",height:"20rem"})})]}),!0!==o&&n!==St.LOADING&&n===St.SUCCESS&&e(g,{gapX:"1rem",children:[i?.avatar&&t(yt,{size:"2xl",variant:"subtle",name:i.avatar}),i?.title&&t(L,{size:"4xl",children:i.title})]}),!0!==o&&n!==St.LOADING&&n===St.SUCCESS&&a?.content]}),!0!==o&&n!==St.LOADING&&n===St.SUCCESS&&t(d,{direction:"column",...!l.disableStyle&&{borderRadius:"10px",borderWidth:"1px",backgroundColor:"gray.100",_dark:{backgroundColor:"gray.950"},height:"fit-content",padding:"2rem",gapY:"1rem",justifyContent:"start"},...l.style,children:l.content}),o&&n!==St.LOADING&&(n===St.SUCCESS||n===St.FAILED)&&c&&t(ft,{icon:c.icon?t(N,{as:we}):void 0,title:c.title??"No results found",description:c.description??void 0})]}),SectionCardRow:({field:r,value:n})=>r?e(d,{wrap:"wrap",gapX:"5rem",justifyContent:"space-between",children:[t(k,{textStyle:"lg",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal"},children:r}),t(U,{}),t(k,{textStyle:"lg",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal"},children:n})]}):t(k,{textStyle:"lg",style:{wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal"},children:n}),StyledMarkdown:({content:r})=>e("div",{className:"markdown-container",children:[" ",t(ye,{children:r,remarkPlugins:[Ce],rehypePlugins:[ke]})]})};const It=te((function(r,n){const{showArrow:o,children:i,portalled:a=!0,content:l,portalRef:s,...c}=r;return e(M.Root,{...c,positioning:{...c.positioning,gutter:4},children:[t(M.Trigger,{asChild:!0,children:i}),t(S,{disabled:!a,container:s,children:t(M.Positioner,{children:e(M.Content,{width:"auto",px:"2",py:"1",textStyle:"xs",rounded:"sm",ref:n,children:[o&&t(M.Arrow,{children:t(M.ArrowTip,{})}),l]})})})]})})),jt=te((function(e,r){return t(P.Track,{...e,ref:r,children:t(P.Range,{})})})),Et=P.Root;P.ValueText,te((function(r,n){const{children:o,info:i,...a}=r;return e(P.Label,{...a,ref:n,children:[o,i&&t(It,{content:i,children:t(C,{variant:"ghost","aria-label":"info",size:"2xs",ms:"1",children:t(xe,{})})})]})}));const Lt=O({placement:"bottom-end",pauseOnPageIdle:!0}),At=()=>t(S,{children:t($,{toaster:Lt,insetInline:{mdDown:"4"},children:r=>e(F.Root,{width:{md:"sm"},children:["loading"===r.type?t(m,{size:"sm",color:"blue.solid"}):t(F.Indicator,{}),e(I,{gap:"1",flex:"1",maxWidth:"100%",children:[r.title&&t(F.Title,{children:r.title}),r.description&&t(F.Description,{children:r.description})]}),r.action&&t(F.ActionTrigger,{children:r.action.label}),r.meta?.closable&&t(F.CloseTrigger,{})]})})}),_t=re(void 0);function Dt(e){const t=document.getElementById(e);t?Le.to(window,{scrollTo:{y:t.offsetTop-50,autoKill:!1},duration:1,ease:"power1.inOut"}):console.warn(`Elemento con ID '${e}' non trovato.`)}function Rt(e,t,r){if(!t||!r)return null;const n=t.find((t=>e.startsWith(t.value)));if(!n||!n.group)return null;const o=r.find((t=>t.group.includes(n.group)&&e.startsWith(t.value)));return o?o.value:null}function zt(){const e=Ie(),t=je(),r=le(null),n=function(e){const[t,r]=ne(!1);return ae((()=>{const t=window.matchMedia(e);r(t.matches);const n=e=>r(e.matches);return t.addEventListener("change",n),()=>t.removeEventListener("change",n)}),[e]),t}("(max-width: 519px)");function o(e){r.current&&Le.to(r.current,{x:e.clientX-50,y:e.clientY-50,duration:.1,ease:"power1.out"})}return ae((()=>{setTimeout((()=>{Dt(e.pathname.split("/").pop()||"")}),500)}),[]),ae((()=>{if(!n)return document.addEventListener("mousemove",o),()=>document.removeEventListener("mousemove",o)}),[n]),{handleNavigationAndScroll:function(e,r){r?(t(e.replace("/","").split("/").pop()||""),Dt(e.replace("/","").split("/").pop()||"")):t(e,{replace:!0})},isMobileRef:n,circleRef:r}}Le.registerPlugin(Ae);const Nt=()=>{const e=oe(_t);if(!e)throw new Error("useDashboard must be used within Dashboard page");return e};function Ut(){const{resolvedTheme:e,setTheme:t}=_e();return{colorMode:e,setColorMode:t,toggleColorMode:()=>{t("light"===e?"dark":"light")}}}function Mt(){const{colorMode:e}=Ut();return t("light"===e?fe:be,{})}const Pt=function(r){const{toggleColorMode:n,colorMode:o}=Ut(),{variant:i,size:a}=r;return t(W,{fallback:t(_,{boxSize:"8"}),children:t(B.Root,{defaultValue:o,variant:i,size:a,onValueChange:n,children:e(B.List,{backgroundColor:"gray.100",_dark:{backgroundColor:"gray.950"},children:[t(B.Trigger,{value:"light",children:t(me,{})}),t(B.Trigger,{value:"dark",children:t(pe,{})})]})},crypto.randomUUID())})};te((function(e,r){const{toggleColorMode:n}=Ut();return t(W,{fallback:t(_,{boxSize:"8"}),children:t(C,{onClick:n,variant:"ghost","aria-label":"Toggle color mode",size:"sm",ref:r,...e,css:{_icon:{width:"5",height:"5"}},children:t(Mt,{})})})}));const Ot=te((function(e,r){const{children:n,portalled:o=!0,portalRef:i,offset:a,...l}=e;return t(S,{disabled:!o,container:i,children:t(V.Positioner,{padding:a,children:t(V.Content,{ref:r,...l,asChild:!1,children:n})})})})),$t=te((function(e,r){return t(V.CloseTrigger,{position:"absolute",top:"2",insetEnd:"2",...e,asChild:!0,children:t(at,{size:"sm",ref:r})})})),Ft=V.Trigger,Wt=V.Root;V.Footer,V.Header;const Bt=V.Body,Vt=V.Backdrop;V.Description,V.Title,V.ActionTrigger;const Ht=()=>{const{isMobileRef:n,handleNavigationAndScroll:o}=zt(),{props:i}=Nt(),a=je(),l=Ie(),{navigationScroll:s,logo:c,navbarItems:u,navbarSubItems:h}=i;return t(d,{wrap:"wrap",position:"fixed",zIndex:4,width:"100%",top:0,backgroundColor:"white",_dark:{backgroundColor:"black"},children:n?t(d,{wrap:"wrap",direction:"row",width:"100%",gapX:"1rem",justifyContent:"start",justifyItems:"center",alignContent:"center",alignItems:"center",paddingX:"5%",paddingY:"1rem",children:e(Wt,{size:"full",children:[t(Vt,{}),t(Ft,{asChild:!0,children:t(C,{"aria-label":"",variant:"subtle",children:t(ve,{})})}),t(U,{}),t(Pt,{variant:"enclosed",size:"sm"}),e(Ot,{children:[t(Bt,{children:t(d,{direction:"column",gap:"3rem",height:"100%",alignItems:"center",justifyContent:"center",children:u?.map((e=>t(Ee,{to:e.value,end:!0,children:t(k,{textStyle:"3xl",fontWeight:"medium",children:e.label})},crypto.randomUUID())))})}),t($t,{})]})]})}):e(r,{children:[e(d,{wrap:"wrap",direction:"row",width:"100%",gapX:"1rem",justifyContent:"center",justifyItems:"center",alignContent:"center",alignItems:"center",paddingX:"5%",paddingY:h?"":"1rem",paddingTop:h?"1rem":"",children:[t((()=>c&&t(E,{src:c,width:"42px"})),{}),u?.map((e=>t(k,{onClick:()=>o(e.value,s),style:{cursor:"pointer"},textStyle:"xl",fontWeight:"medium",children:e.label},e.value))),t(U,{}),t(Pt,{variant:"enclosed",size:"sm"})]}),h&&t(d,{wrap:"wrap",direction:"row",width:"100%",gapX:"1rem",justifyContent:"start",justifyItems:"center",alignContent:"center",alignItems:"center",paddingX:"10%",children:t(B.Root,{defaultValue:Rt(l.pathname,u,h),variant:"line",size:"sm",onValueChange:e=>a(e.value),children:t(B.List,{children:h.filter((e=>!e.group||e.group?.includes(u?.find((e=>-1!==l.pathname.search(new RegExp(e.value,"g"))))?.group||""))).map((t=>e(B.Trigger,{value:t.value,children:[t.icon," ",t.label]},crypto.randomUUID())))})},crypto.randomUUID())})]})})},Gt=()=>{const{props:e}=Nt(),{children:r}=e,n=le(null);return ae((()=>{n.current&&Le.fromTo(n.current,{y:-50,opacity:0},{y:0,opacity:1,duration:1,ease:"bounce.out"})}),[]),t(d,{ref:n,zIndex:"3",minHeight:"100vh",wrap:"wrap",borderYWidth:"1px",paddingTop:"8rem",paddingBottom:"8rem",paddingX:{base:"5%",sm:"5%",md:"5%",lg:"5%",xl:"10%","2xl":"10%"},gap:"8rem",justifyContent:"center",children:r})};var Xt=function(r){const n=n=>{const o=Ie(),[i,a]=ne(n.background);return ae((()=>{a(n.background)}),[o.pathname]),e(_t.Provider,{value:{props:{...n,background:i},setBackground:a},children:[t(r,{...n}),t(At,{})]})};return n.displayName=`withTransformerLayout(${r.displayName||r.name||"Component"})`,n}((()=>{const{isMobileRef:r,circleRef:n}=zt(),{props:o}=Nt(),{background:i}=o;return e(d,{position:"relative",overflow:"hidden",direction:"column",width:"100%",minHeight:"100vh",children:[i&&t(H.div,{position:"absolute",zIndex:1,top:0,left:0,right:0,bottom:0,backgroundAttachment:"fixed",backgroundPosition:"top",backgroundSize:"cover",filter:i.opacity?`blur(${i.opacity}px)`:void 0,backgroundColor:"gray.100",backgroundImage:i.image?`url(${import.meta.env.VITE_BASENAME}/assets/background_white.png)`:void 0,_dark:{backgroundColor:"gray.950",backgroundImage:i.imageDark?`url(${import.meta.env.VITE_BASENAME}/assets/background_dark.png)`:void 0}}),!r&&t(H.div,{ref:n,pointerEvents:"none",position:"fixed",zIndex:2,top:0,left:0,width:"100px",height:"100px",borderRadius:"50%",background:"radial-gradient(circle, {colors.gray.100} 0%, transparent 70%)",_dark:{background:"radial-gradient(circle, {colors.gray.950} 0%, transparent 70%)"}}),e(d,{position:"relative",zIndex:3,direction:"column",width:"100%",minHeight:"100vh",children:[t(Ht,{}),t(Gt,{})]})]})})),Yt={Error:()=>t(d,{position:"fixed",flexDirection:"column",justifyContent:"center",width:"100%",height:"100vh",children:t(ft,{icon:t(N,{as:Se,boxSize:6}),title:"ERROR",description:"An error occurred while running the application"})}),Loading:()=>t(d,{position:"fixed",flexDirection:"column",justifyContent:"center",width:"100%",height:"100vh",children:t(ft,{icon:t(N,{as:Te,boxSize:6}),title:"Fetching...",description:"Wait please!",children:t(Et,{width:"25vw",value:null,children:t(jt,{})})})}),Transformer:Xt};const Kt=re(void 0);var Zt={Auth:({children:e})=>t(Kt.Provider,{value:{accessToken:De((e=>e.authSlice.accessToken))},children:e})};function qt(e){return r=>{const n=le(null);return ae((()=>{n.current&&Le.fromTo(n.current,{opacity:0},{opacity:1,duration:1})}),[]),t("div",{ref:n,style:{width:"100%",display:"flex",justifyContent:"center"},children:t(e,{...r})})}}var Jt={withDynamicLayouts:function(e,r){const n=se((async()=>{await new Promise((e=>setTimeout(e,500)));const t=e.layoutName,r=t.charAt(0).toLowerCase()+t.slice(1);return{default:qt((await import(`./../layouts/${r}/${e.layoutName}Layout.ts`)).default)}}));return t(ce,{fallback:e.loader,children:t(n,{...r})})},withDynamicPages:function(e,r){const n=se((async()=>{await new Promise((e=>setTimeout(e,500)));const t=e.pageName,r=t.charAt(0).toLowerCase()+t.slice(1);return{default:qt((await import(`./../pages/${r}/${e.pageName}Page.ts`)).default)}}));return t(ce,{fallback:e.loader,children:t(n,{...r})})},withRouter:function(e){return r=>{const n=Ie(),o=je();return t(e,{...r,router:{location:n,navigate:o}})}}};const Qt={accessToken:"MOCK",refreshToken:"MOCK"},er={accessToken:"MOCK",refreshToken:"MOCK"},tr={accessToken:"MOCK",refreshToken:"MOCK"};async function rr(e){try{return await e()}catch(e){const t=e;throw t.response?.data?{status:t.response.data.status,message:t.response.data.message}:500!==t.status||t.response?.data?{status:t.status,message:t.message}:"AxiosError"===t.name?{status:"Errore",message:"Servizi non raggiungibili"}:{status:"Errore",message:"Errore sconosciuto"}}}const nr=Re("slice/auth/doRegister",(async(e,{rejectWithValue:t})=>async function(e){return"true"===import.meta.env.VITE_USE_MOCK?(console.log("Modalità Mock attiva. Restituisco dati mock."),new Promise((e=>setTimeout((()=>e(Qt)),1e3)))):await rr((async()=>(await Ne.post(`${import.meta.env.VITE_API}/auth/register`,e)).data))}(e).then((e=>e)).catch((e=>t(e))))),or=Re("slice/auth/doLogin",(async(e,{rejectWithValue:t})=>async function(e){return"true"===import.meta.env.VITE_USE_MOCK?(console.log("Modalità Mock attiva. Restituisco dati mock."),new Promise((e=>setTimeout((()=>e(er)),1e3)))):await rr((async()=>(await Ne.post(`${import.meta.env.VITE_API}/auth/login`,e)).data))}(e).then((e=>e)).catch((e=>t(e))))),ir=Re("slice/auth/doRefresh",(async(e,{rejectWithValue:t})=>async function(e){return"true"===import.meta.env.VITE_USE_MOCK?(console.log("Modalità Mock attiva. Restituisco dati mock."),new Promise((e=>setTimeout((()=>e(tr)),1e3)))):await rr((async()=>(await Ne.post(`${import.meta.env.VITE_API}/auth/refresh`,e)).data))}(e).then((e=>e)).catch((e=>t(e)))));var ar;!function(e){e[e.IDLE=0]="IDLE",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILED=3]="FAILED"}(ar||(ar={}));const lr=ze({name:"slice/auth",initialState:{accessToken:localStorage.getItem("accessToken")||void 0,refreshToken:localStorage.getItem("refreshToken")||void 0,login:{status:ar.IDLE,error:void 0},register:{status:ar.IDLE,error:void 0}},reducers:{clearErrorsRegister:e=>{e.register.status=ar.IDLE,e.register.error=void 0},clearErrorsLogin:e=>{e.login.status=ar.IDLE,e.login.error=void 0}},extraReducers:e=>e.addCase(or.pending,(e=>{e.login.status=ar.LOADING})).addCase(or.fulfilled,((e,t)=>{e.login.status=ar.SUCCESS;const{accessToken:r,refreshToken:n}=t.payload;e.accessToken=r,e.refreshToken=n,localStorage.setItem("accessToken",r),localStorage.setItem("refreshToken",n)})).addCase(or.rejected,((e,t)=>{e.login.status=ar.FAILED,e.login.error=t.payload})).addCase(nr.pending,(e=>{e.register.status=ar.LOADING})).addCase(nr.fulfilled,((e,t)=>{e.register.status=ar.SUCCESS;const{accessToken:r,refreshToken:n}=t.payload;e.accessToken=r,e.refreshToken=n,localStorage.setItem("accessToken",r),localStorage.setItem("refreshToken",n)})).addCase(nr.rejected,((e,t)=>{e.register.status=ar.FAILED,e.register.error=t.payload})).addCase(ir.pending,(e=>{e.register.status=ar.LOADING})).addCase(ir.fulfilled,((e,t)=>{e.register.status=ar.SUCCESS;const{accessToken:r,refreshToken:n}=t.payload;e.accessToken=r,e.refreshToken=n,localStorage.setItem("accessToken",r),localStorage.setItem("refreshToken",n)})).addCase(ir.rejected,((e,t)=>{e.register.status=ar.FAILED,e.register.error=t.payload}))}),sr=lr.actions,cr={doRegister:nr,doLogin:or,doRefresh:ir},dr=lr.reducer;var ur={auth:Object.freeze({__proto__:null,authActions:sr,authAsyncActions:cr,authSlice:dr}),STATUS:ar};export{Tt as components,Jt as hocs,Yt as layouts,Zt as providers,ur as store};
