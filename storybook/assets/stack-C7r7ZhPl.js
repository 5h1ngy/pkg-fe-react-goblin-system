import{j as f}from"./jsx-runtime-D_zvdyIk.js";import{r as l}from"./index-CFahbR6w.js";import{i as O,u as V,d as M,a as j,b as W,m as A,E as X}from"./create-recipe-context-_8bgquqP.js";const F=e=>e!=null;function L(e,s,o={}){const{stop:r,getKey:u}=o;function S(a,y=[]){if(O(a)||Array.isArray(a)){const x={};for(const[p,h]of Object.entries(a)){const C=(u==null?void 0:u(p,h))??p,P=[...y,C];if(r!=null&&r(a,P))return s(a,y);const v=S(h,P);F(v)&&(x[C]=v)}return x}return s(a,y)}return S(e)}function _(e,s){return Array.isArray(e)?e.map(o=>s(o)):O(e)?L(e,o=>s(o)):e!=null?s(e):e}function D(e){const{key:s,recipe:o}=e,r=V();return l.useMemo(()=>{const u=o||(s!=null?r.getSlotRecipe(s):{});return r.sva(structuredClone(u))},[s,o,r])}const U=e=>e.charAt(0).toUpperCase()+e.slice(1),J=e=>{const{key:s,recipe:o}=e,r=U(s||o.className||"Component"),[u,S]=M({name:`${r}StylesContext`,errorMessage:`use${r}Styles returned is 'undefined'. Seems you forgot to wrap the components in "<${r}.Root />" `}),[a,y]=M({name:`${r}ClassNameContext`,errorMessage:`use${r}ClassNames returned is 'undefined'. Seems you forgot to wrap the components in "<${r}.Root />" `,strict:!1}),[x,p]=M({strict:!1,name:`${r}PropsContext`,providerName:`${r}PropsContext`,defaultValue:{}});function h(t){const{unstyled:c,...n}=t,i=D({key:s,recipe:n.recipe||o}),[m,d]=l.useMemo(()=>i.splitVariantProps(n),[n,i]);return{styles:l.useMemo(()=>c?X:i(m),[c,m,i]),classNames:i.classNameMap,props:d}}function C(t,c={}){const{defaultProps:n}=c,i=m=>{const d=p(),N=l.useMemo(()=>A(n,d,m),[d,m]),{styles:w,classNames:g,props:k}=h(N);return f.jsx(u,{value:w,children:f.jsx(a,{value:g,children:f.jsx(t,{...k})})})};return i.displayName=t.displayName||t.name,i}return{StylesProvider:u,ClassNamesProvider:a,PropsProvider:x,usePropsContext:p,useRecipeResult:h,withProvider:(t,c,n)=>{const{defaultProps:i,...m}=n??{},d=j(t,{},m),N=l.forwardRef((w,g)=>{var b;const k=p(),R=l.useMemo(()=>A(i??{},k,w),[k,w]),{styles:E,props:Y,classNames:$}=h(R),I=$[c],T=f.jsx(u,{value:E,children:f.jsx(a,{value:$,children:f.jsx(d,{ref:g,...Y,css:[E[c],R.css],className:W(R.className,I)})})});return((b=n==null?void 0:n.wrapElement)==null?void 0:b.call(n,T,R))??T});return N.displayName=t.displayName||t.name,N},withContext:(t,c,n)=>{const i=j(t,{},n),m=l.forwardRef((d,N)=>{const w=S(),g=y(),k=g==null?void 0:g[c];return f.jsx(i,{...d,css:[c?w[c]:void 0,d.css],ref:N,className:W(d.className,k)})});return m.displayName=t.displayName||t.name,m},withRootProvider:C,useStyles:S,useClassNames:y}};function q(e){const{gap:s,direction:o}=e,r={column:{marginY:s,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},"column-reverse":{marginY:s,marginX:0,borderInlineStartWidth:0,borderTopWidth:"1px"},row:{marginX:s,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0},"row-reverse":{marginX:s,marginY:0,borderInlineStartWidth:"1px",borderTopWidth:0}};return{"&":_(o,u=>r[u])}}function z(e){return l.Children.toArray(e).filter(s=>l.isValidElement(s))}const K=l.forwardRef(function(s,o){const{direction:r="column",align:u,justify:S,gap:a="0.5rem",wrap:y,children:x,separator:p,className:h,...C}=s,P=l.useMemo(()=>q({gap:a,direction:r}),[a,r]),v=l.useMemo(()=>p?z(x).map((t,c,n)=>{const i=typeof t.key<"u"?t.key:c,m=l.cloneElement(p,{css:[P,p.props.css]});return f.jsxs(l.Fragment,{children:[t,c===n.length-1?null:m]},i)}):x,[x,p,P]);return f.jsx(j.div,{ref:o,display:"flex",alignItems:u,justifyContent:S,flexDirection:r,flexWrap:y,gap:p?void 0:a,className:W("chakra-stack",h),...C,children:v})});export{K as S,J as c,_ as m,D as u,L as w};
