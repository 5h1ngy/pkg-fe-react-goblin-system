import{j as s}from"./jsx-runtime-D_zvdyIk.js";import{r as l}from"./index-CFahbR6w.js";import{c as O}from"./stack-C7r7ZhPl.js";import{e as q,f as F,a as m}from"./create-recipe-context-_8bgquqP.js";import{d as $}from"./attr-C3Jtgmrz.js";import{H as P,I as k,J as p,M as j,v as g,w as _,L as D,N as Y,O as z}from"./use-environment-context-C3WQxcjj.js";import{c as B,m as J,a as U}from"./checkbox.anatomy-DVTTplQt.js";const[w,f]=P({name:"CheckboxContext",hookName:"useCheckboxContext",providerName:"<CheckboxProvider />"}),I=l.forwardRef((n,t)=>{const e=f(),o=k(e.getControlProps(),n);return s.jsx(p.div,{...o,ref:t})});I.displayName="CheckboxControl";function W(n){const{value:t,onChange:e,defaultValue:o}=n,[r,a]=l.useState(o),c=t!==void 0,d=c?t:r,h=l.useCallback(u=>(c||a(u),e==null?void 0:e(u)),[c,e]);return[d,h]}function K(n={}){const{defaultValue:t,value:e,onValueChange:o,disabled:r,readOnly:a,name:c,invalid:d}=n,h=!(r||a),u=j(o,{sync:!0}),[C,b]=W({value:e,defaultValue:t||[],onChange:u}),x=i=>C.some(v=>String(v)===String(i)),R=i=>{x(i)?G(i):y(i)},y=i=>{h&&(x(i)||b(C.concat(i)))},G=i=>{h&&b(C.filter(v=>String(v)!==String(i)))};return{isChecked:x,value:C,name:c,disabled:!!r,readOnly:!!a,invalid:!!d,setValue:b,addValue:y,toggleValue:R,getItemProps:i=>({checked:i.value!=null?x(i.value):void 0,onCheckedChange(){i.value!=null&&R(i.value)},name:c,disabled:r,readOnly:a,invalid:d})}}const[Q,X]=P({name:"CheckboxGroupContext",hookName:"useCheckboxGroupContext",providerName:"<CheckboxGroupProvider />",strict:!1}),L=l.forwardRef((n,t)=>{const[e,o]=g()(n,["defaultValue","value","onValueChange","disabled","invalid","readOnly","name"]),r=K(e);return s.jsx(Q,{value:r,children:s.jsx(p.div,{ref:t,role:"group",...o,...B.build().group.attrs})})});L.displayName="CheckboxGroup";const[pe,N]=P({name:"FieldContext",hookName:"useFieldContext",providerName:"<FieldProvider />",strict:!1}),V=l.forwardRef((n,t)=>{const e=f(),o=k(e.getHiddenInputProps(),n),r=N();return s.jsx(p.input,{"aria-describedby":r==null?void 0:r.ariaDescribedby,...o,ref:t})});V.displayName="CheckboxHiddenInput";const S=l.forwardRef((n,t)=>{const e=f(),o=k(e.getLabelProps(),n);return s.jsx(p.span,{...o,ref:t})});S.displayName="CheckboxLabel";const Z=(n={})=>{const t=X(),e=N(),o=l.useMemo(()=>k(n,(t==null?void 0:t.getItemProps({value:n.value}))??{}),[n,t]),{getRootNode:r}=_(),{dir:a}=D(),c={id:l.useId(),ids:{label:e==null?void 0:e.ids.label,hiddenInput:e==null?void 0:e.ids.control},dir:a,disabled:e==null?void 0:e.disabled,readOnly:e==null?void 0:e.readOnly,invalid:e==null?void 0:e.invalid,required:e==null?void 0:e.required,getRootNode:r,checked:o.defaultChecked,...o},d={...c,checked:o.checked,onCheckedChange:j(o.onCheckedChange,{sync:!0})},[h,u]=Y(J(c),{context:d});return U(h,u,z)},H=l.forwardRef((n,t)=>{const[e,o]=g()(n,["checked","defaultChecked","disabled","form","id","ids","invalid","name","onCheckedChange","readOnly","required","value"]),r=Z(e),a=k(r.getRootProps(),o);return s.jsx(w,{value:r,children:s.jsx(p.label,{...a,ref:t})})});H.displayName="CheckboxRoot";const M=l.forwardRef((n,t)=>{const[{value:e},o]=g()(n,["value"]),r=k(e.getRootProps(),o);return s.jsx(w,{value:e,children:s.jsx(p.label,{...r,ref:t})})});M.displayName="CheckboxRootProvider";const ee=l.forwardRef(function(t,e){const o=q({key:"checkmark",recipe:t.recipe}),[r,a]=o.splitVariantProps(t),{checked:c,indeterminate:d,disabled:h,unstyled:u,children:C,...b}=a,x=u?F:o(r);return s.jsx(m.svg,{ref:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3px",strokeLinecap:"round",strokeLinejoin:"round","data-state":d?"indeterminate":c?"checked":"unchecked","data-disabled":$(h),css:[x,t.css],...b,children:d?s.jsx("path",{d:"M5 12h14"}):c?s.jsx("polyline",{points:"20 6 9 17 4 12"}):null})}),{withProvider:T,withContext:E,useStyles:te}=O({key:"checkbox"});T(M,"root",{forwardAsChild:!0});const oe=T(H,"root",{forwardAsChild:!0}),re=E(S,"label",{forwardAsChild:!0}),A=l.forwardRef(function(t,e){const{checked:o,indeterminate:r,...a}=t,c=f(),d=te();return o&&c.checked?s.jsx(m.svg,{ref:e,asChild:!0,...a,css:[d.indicator,t.css],children:o}):r&&c.indeterminate?s.jsx(m.svg,{ref:e,asChild:!0,...a,css:[d.indicator,t.css],children:r}):s.jsx(ee,{ref:e,checked:c.checked,indeterminate:c.indeterminate,disabled:c.disabled,unstyled:!0,...a,css:[d.indicator,t.css]})}),ne=E(I,"control",{forwardAsChild:!0,defaultProps:{children:s.jsx(A,{})}});m(L,{base:{display:"flex",flexDirection:"column",gap:"1.5"}},{forwardAsChild:!0});const se=V,ce=l.forwardRef(function(t,e){const{icon:o,children:r,inputProps:a,rootRef:c,...d}=t;return s.jsxs(oe,{ref:c,...d,children:[s.jsx(se,{ref:e,...a}),s.jsx(ne,{children:o||s.jsx(A,{})}),r!=null&&s.jsx(re,{children:r})]})});ce.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{icon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},inputProps:{required:!1,tsType:{name:"ReactInputHTMLAttributes",raw:"React.InputHTMLAttributes<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},description:""},rootRef:{required:!1,tsType:{name:"ReactRef",raw:"React.Ref<HTMLLabelElement>",elements:[{name:"HTMLLabelElement"}]},description:""}}};export{ce as C,pe as F,N as u};
