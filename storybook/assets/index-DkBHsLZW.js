import{c as k,a as b,i as f,e as P,b as V,g as y,f as w}from"./use-environment-context-C3WQxcjj.js";var E=P("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange"),a=E.build(),u=V({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`progress-${e.id}`},getTrackId:e=>{var t;return((t=e.ids)==null?void 0:t.track)??`progress-${e.id}-track`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`progress-${e.id}-label`},getCircleId:e=>{var t;return((t=e.ids)==null?void 0:t.circle)??`progress-${e.id}-circle`}});function L(e,t,r){const n=e.context.percent,x=e.context.isIndeterminate?"":`${n}%`,i=e.context.max,c=e.context.min,o=e.context.orientation,T=e.context.translations,v=e.context.isIndeterminate,s=e.context.value,p=T.value({value:s,max:i,percent:n,min:c}),l=I(s,i),h={role:"progressbar","aria-label":p,"data-max":i,"aria-valuemin":c,"aria-valuemax":i,"aria-valuenow":s??void 0,"data-orientation":o,"data-state":l},m=$(e.context);return{value:s,valueAsString:p,min:c,max:i,percent:n,percentAsString:x,indeterminate:v,setValue(d){t({type:"VALUE.SET",value:d})},setToMax(){t({type:"VALUE.SET",value:i})},setToMin(){t({type:"VALUE.SET",value:c})},getRootProps(){return r.element({dir:e.context.dir,...a.root.attrs,id:u.getRootId(e.context),"data-max":i,"data-value":s??void 0,"data-state":l,"data-orientation":o,style:{"--percent":v?void 0:n}})},getLabelProps(){return r.element({dir:e.context.dir,id:u.getLabelId(e.context),...a.label.attrs,"data-orientation":o})},getValueTextProps(){return r.element({dir:e.context.dir,"aria-live":"polite",...a.valueText.attrs})},getTrackProps(){return r.element({dir:e.context.dir,id:u.getTrackId(e.context),...a.track.attrs,...h})},getRangeProps(){return r.element({dir:e.context.dir,...a.range.attrs,"data-orientation":o,"data-state":l,style:{[e.context.isHorizontal?"width":"height"]:v?void 0:`${n}%`}})},getCircleProps(){return r.element({dir:e.context.dir,id:u.getCircleId(e.context),...a.circle.attrs,...h,...m.root})},getCircleTrackProps(){return r.element({dir:e.context.dir,"data-orientation":o,...a.circleTrack.attrs,...m.track})},getCircleRangeProps(){return r.element({dir:e.context.dir,...a.circleRange.attrs,...m.range,"data-state":l})},getViewProps(d){return r.element({dir:e.context.dir,...a.view.attrs,"data-state":d.state,hidden:d.state!==l})}}}function I(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function $(e){const t={style:{"--radius":"calc(var(--size) / 2 - var(--thickness) / 2)",cx:"calc(var(--size) / 2)",cy:"calc(var(--size) / 2)",r:"var(--radius)",fill:"transparent",strokeWidth:"var(--thickness)"}};return{root:{style:{width:"var(--size)",height:"var(--size)"}},track:t,range:{opacity:e.value===0?0:void 0,style:{...t.style,"--percent":e.percent,"--circumference":"calc(2 * 3.14159 * var(--radius))","--offset":"calc(var(--circumference) * (100 - var(--percent)) / 100)",strokeDashoffset:"calc(var(--circumference) * ((100 - var(--percent)) / 100))",strokeDasharray:e.isIndeterminate?void 0:"var(--circumference)",transformOrigin:"center",transform:"rotate(-90deg)"}}}}function C(e,t){return e+(t-e)/2}function N(e){const t=k(e);return b({id:"progress",initial:"idle",context:{max:t.max??100,min:t.min??0,value:C(t.min??0,t.max??100),orientation:"horizontal",translations:{value:({percent:r})=>r===-1?"loading...":`${r} percent`,...t.translations},...t},created:["validateContext"],computed:{isIndeterminate:r=>r.value===null,percent(r){return f(r.value)?Math.round((r.value-r.min)/(r.max-r.min)*100):-1},isAtMax:r=>r.value===r.max,isHorizontal:r=>r.orientation==="horizontal",isRtl:r=>r.dir==="rtl"},states:{idle:{on:{"VALUE.SET":{actions:["setValue"]}}}}},{actions:{setValue:(r,n)=>{S.value(r,n.value)},validateContext:r=>{if(r.value!=null){if(!g(r.max))throw new Error(`[progress] The max value passed \`${r.max}\` is not a valid number`);if(!M(r.value,r.max))throw new Error(`[progress] The value passed \`${r.value}\` exceeds the max value \`${r.max}\``);if(!R(r.value,r.min))throw new Error(`[progress] The value passed \`${r.value}\` exceeds the min value \`${r.min}\``)}}}})}function g(e){return f(e)&&!isNaN(e)}function M(e,t){return g(e)&&e<=t}function R(e,t){return g(e)&&e>=t}var S={value(e,t){var r;y(e.value,t)||(e.value=t===null?null:Math.max(0,Math.min(t,e.max)),(r=e.onValueChange)==null||r.call(e,{value:t}))}};w()(["dir","getRootNode","id","ids","max","min","orientation","translations","value","onValueChange"]);export{E as a,L as c,N as m};
